{
  "actions": {
    "CancelTask": [
      {
        "document": "This example shows you how to cancel a task.",
        "input": "POST / HTTP/1.1\nHost: vm.tencentcloudapi.com\nContent-Type: application/json\nX-TC-Action: CancelTask\n<Common request parameters>\n\n{\n    \"TaskId\": \"task-video-XwxJtbkKXWgCt8AZ\"\n}",
        "output": "{\n    \"Response\": {\n        \"RequestId\": \"c933aca1-90d2-4ab8-b045-f1b08069d76f\"\n    }\n}",
        "title": "Canceling task"
      }
    ],
    "CreateVideoModerationTask": [
      {
        "document": "This example shows you how to create a video moderation task.",
        "input": "POST / HTTP/1.1\nHost: vm.tencentcloudapi.com\nContent-Type: application/json\nX-TC-Action: CreateVideoModerationTask\n<Common request parameters>\n\n{\n    \"Type\": \"VIDEO\",\n    \"Tasks\": [\n        {\n            \"DataId\": \"0a782332-c9db-4cf5-a66e-20d60b4ea469\",\n            \"Input\": {\n                \"Url\": \"https://test.myqcloud.com/test.mp4\"\n            }\n        }\n    ]\n}",
        "output": "{\n    \"Response\": {\n        \"Results\": [\n            {\n                \"DataId\": \"0a782332-c9db-4cf5-a66e-20d60b4ea469\",\n                \"TaskId\": \"c933aca1-90d2-4ab8-b045-f1b08069d76f\",\n                \"Code\": \"OK\",\n                \"Message\": \"Success\"\n            }\n        ],\n        \"RequestId\": \"c933aca1-90d2-4ab8-b045-f1b08069d76f\"\n    }\n}",
        "title": "Creating video moderation task"
      },
      {
        "document": "If you configure `Seed` when creating a moderation task, we will add the signature parameter to the callback to ensure the data security.\nSignature algorithm: add the `X-Signature` field to the returned HTTP header, whose value is the SHA256-encoded hex string of `seed` + `body`.\n\nFor example:\nIf your ` CallbackUrl` is `http://example.com` and `Seed` is `dedb6dcc1cb7c63fde8fa5abfd57`, and the returned callback data is: \n```{\"TaskId\": \"task-video-X0zpcRUMzVidxj20\",\"DataId\":\"test\",\"Suggestion\": \"Block\"}```,\nThen, after completing the moderation, we will pass in `X-Signature` with the following value in the HTTP header when calling `http://example.com`:\n`74f0ae6d1f1e4eb1ffe4162da480a812f8a4dc19fe5a52bacbcd2c862d3edcfd`\n\n> Note: for the callback body format, see the API for task details query.",
        "input": "POST / HTTP/1.1\nHost: vm.tencentcloudapi.com\nContent-Type: application/json\nX-TC-Action: CreateVideoModerationTask\n<Common request parameters>\n\n{\n    \"Type\": \"VIDEO\",\n    \"CallbackUrl\": \"https://apis.example.com/callback/video\",\n    \"Seed\": \"dedb6dcc1cb7c63fde8fa5abfd57\",\n    \"Tasks\": [\n        {\n            \"DataId\": \"test\",\n            \"Input\": {\n                \"Url\": \"https://test.myqcloud.com/test.mp4\"\n            }\n        }\n    ]\n}",
        "output": "{\n    \"Response\": {\n        \"Results\": [\n            {\n                \"DataId\": \"test\",\n                \"TaskId\": \"c933aca1-90d2-4ab8-b045-f1b08069d76f\",\n                \"Code\": \"OK\",\n                \"Message\": \"Success\"\n            }\n        ],\n        \"RequestId\": \"c933aca1-90d2-4ab8-b045-f1b08069d76f\"\n    }\n}",
        "title": "Sample callback signature"
      }
    ],
    "DescribeTaskDetail": [
      {
        "document": "This example shows you how to view the details of a task by `TaskId`.",
        "input": "POST / HTTP/1.1\nHost: vm.tencentcloudapi.com\nContent-Type: application/json\nX-TC-Action: DescribeTaskDetail\n<Common request parameters>\n\n{\n    \"TaskId\": \"task-video-XwxJtbkKXWgCt8AZ\"\n}",
        "output": "{\n    \"Response\": {\n        \"TaskId\": \"task-video-XwxJtbkKXWgCt8AZ\",\n        \"DataId\": \"data_test_01\",\n        \"BizType\": \"1001\",\n        \"Name\": \"\",\n        \"Status\": \"FINISH\",\n        \"Type\": \"VIDEO\",\n        \"Suggestion\": \"Block\",\n        \"Labels\": [\n            {\n                \"Label\": \"Porn\",\n                \"Suggestion\": \"Block\",\n                \"Score\": 99,\n                \"SubLabel\": \"\"\n            },\n            {\n                \"Label\": \"Hot\",\n                \"Suggestion\": \"Block\",\n                \"Score\": 70,\n                \"SubLabel\": \"\"\n            }\n        ],\n        \"MediaInfo\": {\n            \"Duration\": 36\n        },\n        \"InputInfo\": {\n            \"Type\": \"URL\",\n            \"Url\": \"https://cms-video-segments-1256309736.cos.ap-guangzhou.myqcloud.co/huang.mp4\",\n            \"BucketInfo\": null\n        },\n        \"CreatedAt\": \"2020-07-13T11:47:01.925Z\",\n        \"UpdatedAt\": \"2020-07-13T11:47:25.840Z\",\n        \"ImageSegments\": [\n            {\n                \"Result\": {\n                    \"HitFlag\": 1,\n                    \"Label\": \"Porn\",\n                    \"SubLabel\": \"\",\n                    \"Suggestion\": \"Block\",\n                    \"Score\": 85,\n                    \"Results\": [\n                        {\n                            \"Scene\": \"Porn\",\n                            \"HitFlag\": 1,\n                            \"Suggestion\": \"Block\",\n                            \"Label\": \"Porn\",\n                            \"SubLabel\": \"\",\n                            \"Score\": 85,\n                            \"Names\": [],\n                            \"Text\": \"\",\n                            \"Details\": []\n                        }\n                    ],\n                    \"Url\": \"https://cos.ap-zhou.myqcloud.com/c019/image_1.jpg\"\n                },\n                \"OffsetTime\": \"1\"\n            },\n            {\n                \"Result\": {\n                    \"HitFlag\": 1,\n                    \"Label\": \"Porn\",\n                    \"SubLabel\": \"\",\n                    \"Suggestion\": \"Block\",\n                    \"Score\": 77,\n                    \"Results\": [\n                        {\n                            \"Scene\": \"Porn\",\n                            \"HitFlag\": 1,\n                            \"Suggestion\": \"Block\",\n                            \"Label\": \"Porn\",\n                            \"SubLabel\": \"\",\n                            \"Score\": 77,\n                            \"Names\": [],\n                            \"Text\": \"\",\n                            \"Details\": []\n                        }\n                    ],\n                    \"Url\": \"https://cos.ap-guau.myqcloud.com/cc49b5b90a5d6802b7c019/image_2.jpg\"\n                },\n                \"OffsetTime\": \"2\"\n            }\n        ],\n        \"AudioSegments\": [\n            {\n                \"Result\": {\n                    \"HitFlag\": 0,\n                    \"Label\": \"Normal\",\n                    \"SubLabel\": \"\",\n                    \"Suggestion\": \"Pass\",\n                    \"Score\": 0,\n                    \"Text\": \"Test audio text\",\n                    \"Url\": \"https://xxx.com/7c019/audio_0.mp3\",\n                    \"Duration\": \"36398\"\n                },\n                \"OffsetTime\": \"0\"\n            }\n        ],\n        \"RequestId\": \"8d3e4765-48db-40b5-8fdb-aaf1d7225a60\",\n        \"ErrorType\": \"\",\n        \"ErrorDescription\": \"\",\n        \"Label\": \"Porn\"\n    }\n}",
        "title": "Viewing Task Details"
      }
    ],
    "DescribeTasks": [
      {
        "document": "This example shows you how to view the list of moderation tasks.",
        "input": "POST / HTTP/1.1\nHost: vm.tencentcloudapi.com\nContent-Type: application/json\nX-TC-Action: DescribeTasks\n<Common request parameters>\n\n{\n    \"Filter\": {\n        \"Type\": \"VIDEO\"\n    }\n}",
        "output": "{\n    \"Response\": {\n        \"Total\": \"1\",\n        \"Data\": [\n            {\n                \"TaskId\": \"task-video-XwxJtbkKXWgCt8AZ\",\n                \"DataId\": \"data_test_01\",\n                \"BizType\": \"1001\",\n                \"Name\": \"Test video\",\n                \"Status\": \"FINISH\",\n                \"Type\": \"VIDEO\",\n                \"Suggestion\": \"Block\",\n                \"Labels\": [\n                    {\n                        \"Label\": \"Porn\",\n                        \"Suggestion\": \"Block\",\n                        \"Score\": 99\n                    },\n                    {\n                        \"Label\": \"Hot\",\n                        \"Suggestion\": \"Block\",\n                        \"Score\": 70\n                    }\n                ],\n                \"MediaInfo\": {\n                    \"Duration\": 36\n                },\n                \"CreatedAt\": \"2020-07-13T11:47:01.925Z\",\n                \"UpdatedAt\": \"2020-07-13T11:47:25.840Z\"\n            }\n        ],\n        \"PageToken\": \"4765-48dXwxJtbkKXW8d3eb\",\n        \"RequestId\": \"8d3e4765-48db-40b5-8fdb-aaf1d7225a60\"\n    }\n}",
        "title": "Viewing moderation task list"
      }
    ]
  },
  "version": "1.0"
}